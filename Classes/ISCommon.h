BOOL isFlagSet(int flags, int flag) {
    return ((flags & flag) == flag);
}